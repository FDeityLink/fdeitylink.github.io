<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/darkly/bootstrap.min.css" integrity="sha256-VZi/r/RC1MritcGE2Yyxb/ACi8WIOj1Y7BHuslF8+6I=" rel="stylesheet"><link href="/css/styles.css" rel="stylesheet" type="text/css"><title>Context-free Grammars | FDeityLink</title></head><body><nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary"><div class="container-fluid"><a class="navbar-brand" href="/">FDeityLink</a><button aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle Navigation" class="navbar-toggler" data-bs-target="#navbarColor01" data-bs-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarColor01"><ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="/blog/">Blog</a></li><li class="nav-item"><a class="nav-link" href="/projects/">Projects</a></li><li class="nav-item"><a class="nav-link" href="/about.html">About</a></li></ul></div></div></nav><br><div class="card"><h2 class="card-header">Context-free Grammars</h2><div class="card-body"><p class="card-text">An extended definition of the term "Context-free Grammars".<br>This was written for my Technical Writing course as a useful resource for budding linguists or computer scientists, especially those interested in programming language and compiler theory.<br>This definition provides a basic introduction to what context-free grammars are and how they can be used. There are some interesting computer science applications that could be discussed, but they are not included for the sake of brevity and keeping this approachable to a wide audience, especially new linguists.<br>By reading this definition, you will learn just what context-free grammars are, how they specify a language's rules, how you can apply these rules to a sentence in a language and visualize that application, why grammars are useful in practice, and finally some of the shortcomings of grammars and what they cannot do for us. With this definition in your toolkit, if you are so interested, you should have no problem reading basic research papers about context-free grammars, especially from the days when they were first introduced, or finding ways to use them in your projects.<br>As a computer science student with a strong interest in compiler theory, I enjoyed learning about this term and re-explaining it. I had to think back to when I was first learning the subject and determine what was important to know, what wasn't, and what I wish I had been taught but wasn't. The book Crafting Interpreters, which I have cited at the bottom of the definition, provided my introduction to the term and was very useful in writing this.<br></p><hr><p class="card-text"><h3>What are Context-free Grammars?</h3><p>Context-free grammars, occasionally known as phrase structure grammars, are sets of rules that govern a language’s grammar. They apply to natural languages such as English or Spanish, but also to programming languages such as C or Java. They ensure that nouns and verbs are in the right spots relative to one another, that they aren’t in the wrong spots, that sentences end with punctuation, and enforce other language constraints. Given a grammar and a phrase that follows the grammar’s rules, the grammar derives or generates the phrase.</p><p>Definitionally, a context-free grammar consists of four different things</p><ul><li><code>V</code>: a set of variables or “nonterminals” that will be successively replaced and eventually reduced to terminals according to the grammar’s rules</li><li><code>Σ</code>: an alphabet, or set of “terminals” generally representing letters, words, or other basic language units</li><li><code>R</code>: the set of rules that maps nonterminals to zero or more replacement sequences, which may be empty, of terminals and/or other nonterminals</li><li><code>S</code>: the start nonterminal from parsing a phrase’s grammar begins; for example, a grammar that parses sentences would likely set `S`` to whichever nonterminal represents sentences</li></ul><p>Usually it suffices to write the rules in <code>R</code> to specify a grammar, with <code>S</code> inferred from context.</p><h3>Examples of Context-free Grammars</h3><p>While knowing the technical definition of a context-free grammar is great, it doesn’t do much for illuminating how they actually work and are applied. So let’s see an example! Below is a grammar that represents a simple English phrase in which a noun performs an action:</p><pre><code>Phrase ⇒ Noun-Phrase Verb-Phrase
Noun-Phrase ⇒ Adjective Noun-Phrase | Noun
Noun ⇒ apple | bird | phone | ...
Adjective ⇒ red | happy | large | ...
Verb-Phrase ⇒ Adverb Verb-Phrase | Verb
Verb ⇒ flies | types | calls | ...
Adverb ⇒ quickly | loudly | often | ...</code></pre><p>This is a specification of the rules in the grammar. On the left side of each rule is a nonterminal. The arrow separates each nonterminal from its possible replacements. On the right is a sequence of possible replacement sequences, separated by a pipe. An ellipsis indicates that there are many other words that follow the specified rule. Nonterminals are bolded, terminals are not.</p><h4>Derivations</h4><p>Let’s derive the phrase <code>“large red bird quickly flies”</code>. Below is the derivation. On the left is the current sequence of terminals and nonterminals. On the right is the rule used to get from the previous sequence to the next. The derivation stops when there are no nonterminals left.</p><table><thead><tr><th>Sequence</th><th>Rule</th></tr></thead><tbody><tr><td><code>Phrase</code></td><td><code>Phrase</code> is the starting nonterminal</td></tr><tr><td><code>Noun-Phrase Verb-Phrase</code></td><td><code>Phrase ⇒ Noun-Phrase Verb-Phrase</code></td></tr><tr><td><code>Adjective Noun-Phrase Verb-Phrase</code></td><td><code>Noun-Phrase ⇒ Adjective Noun-Phrase</code></td></tr><tr><td><code>large Noun-Phrase Verb-Phrase</code></td><td><code>Adjective ⇒ large</code></td></tr><tr><td><code>large Adjective Noun-Phrase Verb-Phrase</code></td><td><code>Noun-Phrase ⇒ Adjective Noun-Phrase</code></td></tr><tr><td><code>large red Noun-Phrase Verb-Phrase</code></td><td><code>Adjective ⇒ red</code></td></tr><tr><td><code>large red Noun Verb-Phrase</code></td><td><code>Noun-Phrase ⇒ Noun</code></td></tr><tr><td><code>large red bird Verb-Phrase</code></td><td><code>Noun ⇒ bird</code></td></tr><tr><td><code>large red bird Adverb Verb-Phrase</code></td><td><code>Verb-Phrase ⇒ Adverb Verb-Phrase</code></td></tr><tr><td><code>large red bird quickly Verb-Phrase</code></td><td><code>Adverb ⇒ quickly</code></td></tr><tr><td><code>large red bird quickly Verb</code></td><td><code>Verb-Phrase ⇒ Verb</code></td></tr><tr><td><code>large red bird quickly flies</code></td><td><code>Verb ⇒ flies</code></td></tr></tbody></table><br /><h4>Parse Trees</h4><p>Given a context-free grammar and a phrase that follows its rules, it is possible to create a tree diagram that shows how each letter, word, or other unit is situated within the phrase as a whole, what type of grammatical element it is, and how to derive the phrase from the grammatical rules of the language. Below is a parse tree representing the derivation from the example above.</p><p><img src="/assets/parsetree.png" alt="A parse tree where most nodes are nonterminals. They branch into terminals and nonterminals corresponding to the rules applied above. The first node, Phrase, branches into Noun-Phrase and Verb-Phrase. The final nodes are the words of the phrase." title="Parse Tree for large red bird quickly flies" /></p><p>Here, it is plain to see the derivation steps that were followed to derive the final phrase from the original Phrase nonterminal. It shows how the Noun-Phrase nonterminal was replaced three separate times and what words it eventually derived into.</p><h3>Applications of Context-free Grammars</h3><p>All too often, it becomes easy to get lost in theory and forget that things do have useful, real-world applications. Context-free grammars are no exception! They arise in linguistics of course, but also natural language processing and programming language design. More surprisingly, they can be applied to models of computation and represent the rules for various scenarios. This explanation focuses specifically on applications to programming languages.</p><h4>Programming Language Design</h4><p>Context-free grammars are indispensable for validating and understanding the structure of program code. During the “parsing” phase, a compiler will apply a grammar to the input code to extract and validate meaningful structure from the input code.</p><p>Arithmetical expressions, which arise in many programming languages, serve as a great example of the importance of context-free grammars. A grammar to represent arithmetic is shown here <a href='#fn-1' id='fnref1'><sup>1</sup></a>:</p><pre><code>Expression ⇒ Literal | Unary | Binary | Grouping
Literal ⇒ &#91;a number e.g. 123&#93;
Unary ⇒ - Expression
Binary ⇒ Expression Operator Expression
Operator ⇒ + | - | &#42; | /
Grouping ⇒ &#40; Expression &#41;
</code></pre><p>In this grammar, a mathematical expression can be a literal number, a unary expression (an operator and another expression as an operand), a binary expression (an operator and two expressions as operands), or a grouping (an expression in parentheses). The only unary operator is negation. Binary operators can be addition, subtraction, multiplication, or division.</p><p>When a compiler is analyzing the code a programmer gives it, it will have to understand mathematical expressions; for instance, understand what expressions the programmer is looking to add or divide. This is just a small example; grammars can also validate that different keywords are used correctly and match up paired punctuation, such as curly braces and square brackets.</p><h3>Syntax versus Semantics</h3><p>While context-free grammars are useful, they do have limitations. Most importantly, they only represent a language’s syntax, or grammatical rules, as per their name, but not a language’s semantics. Syntax refers to structural requirements, so the grammar can make sure the nouns and adjectives are in all the right places. On the other hand, semantics refers to rules about meaning (e.g. what do certain adjective and noun pairs mean?), which these grammatical rules cannot capture and regulate.</p><p>A famous example of this syntax versus semantics distinction was crafted by linguist Noam Chomsky: “Colorless green ideas sleep furiously.” Below is a parse tree that shows how to parse the sentence according to the English grammar.</p><p><img src="/assets/semantics.png" alt="A parse tree for the sentence, correctly breaking the Sentence down into Noun Phrases, Verb Phrases, Nouns, Adjectives, Verbs, and Adverbs." title="Parse Tree for Colorless green ideas sleep furiously." /></p><p>Evidently the sentence passes the syntax rules: it begins a noun phrase composed of an adjective and another noun phrase, which in itself has another adjective and the noun itself. On the other side is a verb phrase consisting of a verb and adverb to modify it. There may be additional syntax rules that could be inspected but this is enough for demonstration.</p><p>Since the grammar checks out, clearly the sentence is perfectly reasonable, right? Unfortunately, no. Try to think about what this sentence means. Can anything, much less an idea, be both colorless and green? Furthermore, how would an idea sleep? How would it do so furiously? A more figurative interpretation may be possible, but thinking of a good interpretation still poses difficulties. Evidently, context-free grammars can do nothing to prevent nonsensical sentences from arising; they only distinguish structure.</p><p>Because of this important dichotomy between syntax and semantics, context-free grammars are great for the initial stages of understanding a phrase or sentence in a language, but additional stages are required to validate and understand the meaning.</p><h3>Summary</h3><p>Context-free grammars are useful tools to represent the structure of languages, both natural and constructed. They consist of terminal symbols, nonterminal symbols, and rules that translate these nonterminals into sequences of terminals and/or nonterminals. A grammar derives a phrase if the phrase follows the grammar’s rules, and a derivation is the steps taken to actually generate a phrase from the grammar rules. A parse tree is a great way to visualize this derivation. Context-free grammars are vital for a wide variety of applications, including parsing programming languages. And finally, context-free grammars are not very useful for extrapolating and validating a phrase’s meaning, as a syntactically valid phrase could be semantically invalid.</p><h3>Works Cited</h3><p>Chomsky, Noam. “Three models for the description of language.” <i>IRE Transactions on Information Theory</i>, vol. 2, no. 3, 1956, pp. 113-124. <i>IEEE Xplore</i>, <a href="https://doi.org/10.1109/TIT.1956.1056813">https://doi.org/10.1109/TIT.1956.1056813</a>. Accessed 27 February 2022.</p><p>Nystrom, Robert. “Crafting Interpreters.” <i>Crafting Interpreters</i>, <a href="https://craftinginterpreters.com">https://craftinginterpreters.com</a>. Accessed 27 February 2022. <ol class='footnotes'><li id='fn-1'>Note that there is a flaw in this grammar: it is ambiguous. In other words, there are multiple ways to group up the terminal units of a given expression. More details about that are outside the scope of this document so learning about them is left as an exercise to the reader.<a href='#fnref1'>&#8617;</a></li></ol></p></p></div></div><script crossorigin="anonymous" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script></body></html>